# ============================================
# UNIVERSAL AI CALL BOT BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values
# Command: cp env.template .env
# NEVER commit .env to version control!

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development

# ============================================
# MONGODB CONFIGURATION
# ============================================
# Local MongoDB:
# MONGODB_URI=mongodb://localhost:27017/callbot
# MongoDB Atlas (Cloud):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/callbot?retryWrites=true&w=majority
MONGODB_URI=mongodb://localhost:27017/callbot

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate a strong random secret (min 32 characters)
# You can generate one using: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-characters
JWT_EXPIRES_IN=7d

# ============================================
# TWILIO CONFIGURATION
# ============================================
# Get these from: https://console.twilio.com/
# Account SID and Auth Token are in your Twilio Dashboard
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here

# Your Twilio phone number (format: +1234567890)
TWILIO_PHONE_NUMBER=+1234567890

# Webhook URL for Twilio to send call events
# For local development, use ngrok: https://ngrok.com/
# Example: https://abc123.ngrok.io/api/calls/webhook
# For production: https://yourdomain.com/api/calls/webhook
TWILIO_WEBHOOK_URL=http://localhost:3000/api/calls/webhook

# ============================================
# VONAGE CONFIGURATION (Alternative to Twilio)
# ============================================
# Get these from: https://dashboard.nexmo.com/
# API Key and Secret are in Settings â†’ API Keys
VONAGE_API_KEY=your_vonage_api_key_here
VONAGE_API_SECRET=your_vonage_api_secret_here

# Your Vonage phone number (format: +1234567890)
VONAGE_PHONE_NUMBER=+1234567890

# Webhook URL for Vonage to send call events
# For local development, use ngrok: https://ngrok.com/
# Example: https://abc123.ngrok.io/api/calls/webhook
# For production: https://yourdomain.com/api/calls/webhook
VONAGE_WEBHOOK_URL=http://localhost:3000/api/calls/webhook

# ============================================
# OPENAI CONFIGURATION
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# OpenAI Model (options: gpt-4-turbo-preview, gpt-4, gpt-3.5-turbo)
OPENAI_MODEL=gpt-4-turbo-preview

# ============================================
# SPEECH-TO-TEXT (Whisper)
# ============================================
# Uses OpenAI Whisper API (same API key as above)
WHISPER_API_KEY=your_openai_api_key_here

# ============================================
# TEXT-TO-SPEECH (TTS)
# ============================================
# OpenAI TTS Model (options: tts-1, tts-1-hd)
TTS_MODEL=tts-1

# TTS Voice (options: alloy, echo, fable, onyx, nova, shimmer)
TTS_VOICE=alloy

# ============================================
# CALL RECORDING
# ============================================
# Enable/disable call recording
ENABLE_CALL_RECORDING=true

# Local storage path for recordings (if downloading)
RECORDING_STORAGE_PATH=./recordings

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
# WebSocket port (defaults to 3001 if not set)
WS_PORT=3001

# ============================================
# RATE LIMITING
# ============================================
# Time window for rate limiting (in milliseconds)
# Default: 15 minutes (900000 ms)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
# Default: 100 requests
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins for CORS (comma-separated)
# For development: *
# For production: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGIN=*

# ============================================
# LOGGING
# ============================================
# Log level (options: error, warn, info, debug)
LOG_LEVEL=info

# ============================================
# PRODUCTION CHECKLIST
# ============================================
# Before deploying to production, ensure:
# 1. NODE_ENV=production
# 2. JWT_SECRET is a strong random string (32+ chars)
# 3. MONGODB_URI points to production database
# 4. TWILIO_WEBHOOK_URL uses HTTPS
# 5. CORS_ORIGIN is set to specific domains (not *)
# 6. All API keys are valid and have proper permissions
# 7. Call recording storage has proper permissions
# 8. Logs are configured for production monitoring

